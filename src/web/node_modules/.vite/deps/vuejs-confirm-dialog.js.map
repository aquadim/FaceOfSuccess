{
  "version": 3,
  "sources": ["../../vuejs-confirm-dialog/dist/vuejs-confirm-dialog.es.js"],
  "sourcesContent": ["import { reactive, markRaw, computed, ref, watch, defineComponent, h } from \"vue\";\nconst DialogsStore = reactive([]);\nconst useDialogWrapper = function() {\n  const addDialog = function(dialogData) {\n    DialogsStore.push(markRaw(dialogData));\n  };\n  const removeDialog = function(id) {\n    const index = DialogsStore.findIndex((dialog) => dialog.id == id);\n    DialogsStore.splice(index, 1);\n  };\n  const removeAll = function() {\n    DialogsStore.splice(0);\n  };\n  return {\n    DialogsStore,\n    addDialog,\n    removeDialog,\n    removeAll\n  };\n};\nfunction createEventHook() {\n  const fns = [];\n  const off = (fn) => {\n    const index = fns.indexOf(fn);\n    if (index !== -1)\n      fns.splice(index, 1);\n  };\n  const on = (fn) => {\n    fns.push(fn);\n    return {\n      off: () => off(fn)\n    };\n  };\n  const trigger = (param) => {\n    fns.forEach((fn) => fn(param));\n  };\n  return {\n    on,\n    off,\n    trigger\n  };\n}\nconst isClient = typeof window !== \"undefined\";\nconst noop = () => {\n};\nisClient ? window : void 0;\nisClient ? window.document : void 0;\nisClient ? window.navigator : void 0;\nisClient ? window.location : void 0;\nconst _global = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\nconst globalKey = \"__vueuse_ssr_handlers__\";\n_global[globalKey] = _global[globalKey] || {};\n_global[globalKey];\nfunction useConfirmDialog(revealed = ref(false)) {\n  const confirmHook = createEventHook();\n  const cancelHook = createEventHook();\n  const revealHook = createEventHook();\n  let _resolve = noop;\n  const reveal = (data) => {\n    revealHook.trigger(data);\n    revealed.value = true;\n    return new Promise((resolve) => {\n      _resolve = resolve;\n    });\n  };\n  const confirm = (data) => {\n    revealed.value = false;\n    confirmHook.trigger(data);\n    _resolve({ data, isCanceled: false });\n  };\n  const cancel = (data) => {\n    revealed.value = false;\n    cancelHook.trigger(data);\n    _resolve({ data, isCanceled: true });\n  };\n  return {\n    isRevealed: computed(() => revealed.value),\n    reveal,\n    confirm,\n    cancel,\n    onReveal: revealHook.on,\n    onConfirm: confirmHook.on,\n    onCancel: cancelHook.on\n  };\n}\nvar _a, _b;\nisClient && (window == null ? void 0 : window.navigator) && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.platform) && /iP(ad|hone|od)/.test((_b = window == null ? void 0 : window.navigator) == null ? void 0 : _b.platform);\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nconst initialRect = {\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n  height: 0,\n  width: 0\n};\n__spreadValues$3({\n  text: \"\"\n}, initialRect);\nlet lastDialogId = 0;\nfunction getDialogId() {\n  return ++lastDialogId;\n}\nfunction createConfirmDialog(dialog, initialAttrs = {}, options = { chore: false, keepInitial: false }) {\n  const setAttrs = (attrs) => {\n    if (!attrs) {\n      propsRef.value = {};\n      return;\n    }\n    for (const prop in attrs) {\n      propsRef.value[prop] = attrs[prop];\n    }\n  };\n  const propsRef = ref({});\n  setAttrs(initialAttrs);\n  const revealed = ref(false);\n  const close = () => {\n    revealed.value = false;\n    removeDialog(DIALOG_ID);\n  };\n  const { addDialog, removeDialog, removeAll, DialogsStore: DialogsStore2 } = useDialogWrapper();\n  const {\n    reveal,\n    isRevealed,\n    onConfirm,\n    onReveal,\n    onCancel,\n    confirm,\n    cancel\n  } = useConfirmDialog();\n  const DIALOG_ID = getDialogId();\n  onReveal((props) => {\n    revealed.value = true;\n    if (props)\n      setAttrs(props);\n    addDialog({\n      id: DIALOG_ID,\n      dialog,\n      isRevealed,\n      confirm,\n      cancel,\n      props: propsRef.value,\n      close,\n      revealed\n    });\n  });\n  watch(\n    isRevealed,\n    (value) => {\n      if (!value) {\n        if (options.chore) {\n          setAttrs(options.keepInitial ? initialAttrs : null);\n        }\n        removeDialog(DIALOG_ID);\n      }\n    }\n  );\n  const closeAll = () => {\n    DialogsStore2.forEach((dialog2) => {\n      dialog2.revealed.value = false;\n    });\n    removeAll();\n  };\n  return {\n    close,\n    closeAll,\n    reveal,\n    isRevealed: computed(() => isRevealed.value && revealed.value),\n    onConfirm,\n    onCancel\n  };\n}\nvar DialogsWrapper = defineComponent({\n  name: \"DialogsWrapper\",\n  setup() {\n    const { DialogsStore: DialogsStore2 } = useDialogWrapper();\n    return () => DialogsStore2.map((dialogData) => {\n      return h(dialogData.dialog, {\n        is: dialogData.dialog,\n        onConfirm: dialogData.confirm,\n        onCancel: dialogData.cancel,\n        key: dialogData.id,\n        ...dialogData.props\n      });\n    });\n  }\n});\nfunction install(app) {\n  app.component(\"DialogsWrapper\", DialogsWrapper);\n}\nexport { DialogsWrapper, createConfirmDialog, install };\n"],
  "mappings": "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",
  "names": []
}
